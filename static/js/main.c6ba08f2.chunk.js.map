{"version":3,"sources":["constants.js","Portfolio/portfolioData.js","Portfolio/portfolioUtils.js","SingleStock/backend.js","Portfolio/dataRetriever.js","api/formatAllFields.js","Portfolio/Portfolio.js","translate.js","components/icons/WarningIcon.js","components/stockIndicators.js","components/Stock.js","components/StockTable.js","stockUtils.js","SingleStock/ReportInputSection.js","SingleStock/SingleStock.js","dataRetriever.js","components/CategoryPage.js","Forest/Forest.js","Invest/Invest.js","Bank/Bank.js","Space/Space.js","App/App.js","serviceWorker.js","index.js"],"names":["exchangeRates","DKK","USD","EUR","SHOW_PORTFOLIO","BASE_URL","BILLION","MILLION","THOUSAND","OPERATING_MARGIN","PRICE_EARNINGS_RATIO","PRICE_SALES_RATIO","PRICE_BOOK_VALUE","DIRECT_YIELD","VOLATILITY","NUMBER_OF_EMPLOYEES","REVENUE","REVENUE_PER_EMPLOYEE","REVENUE_PER_SHARE","TOTAL_ASSETS","EARNINGS_PER_SHARE","NET_EARNINGS","NUMBER_OF_SHARES","TOTAL_EQUITY","TOTAL_DEBT","SOLIDITY","MARKET_CAP","YEAR","ID","LAST_PRICE","CURRENCY","EBIT","CHANGE_VALUES","OLLE","RETURN_ON_EQUITY","RETURN_ON_CAPITAL_EMPLOYED","NET_ASSET_VALUE","NET_ASSET_VALUE_RATIO","PROFIT_FROM_PROPERTY_MANAGEMENT_BEFORE_TAX","PFPMBF_PER_SHARE","PRICE_PFPMBT_RATIO","PRICE_PFPMAT_RATIO","ANNUAL_REPORTS_TABLE","INTERIM_REPORTS_TABLE","MULTIPLE_STOCKS_TABLE","QUARTERLY_REPORT","ANNUAL_REPORT","basePortfolioStrategy","minShare","maxShare","minNumberOfStocks","maxNumberOfStocks","minRatioOfEachShareInPortfolio","maxRatioOfEachShareInPortfolio","portfolios","id","name","stocks","strategy","getPortfolioValue","portfolioData","reduce","sum","stock","getStockValue","portfolioRatioIsGood","totalPortfolioValue","portfolioRatio","numberOfStocksIsGood","length","amount","lastPrice","cash","rp","require","getStockData","Promise","resolve","reject","uri","then","returnData","parsedData","JSON","parse","getPortfolios","promises","forEach","portfolio","push","stockData","combinedData","currency","console","error","convertToSEK","getStockWithAmount","all","sort","a","b","getStocksInPortfolio","formatField","key","value","keyShouldBeFormatted","formatNumber","number","isNaN","returnValue","negative","toPrecision","x","parts","toString","split","replace","join","numberWithSpaces","toFixed","classNames","PortfolioRow","props","className","good","bad","PortfolioDetails","width","map","StockRow","portfolioValue","minRatio","maxRatio","stockRatioIsGood","stockRatio","sector","Portfolio","state","setState","catch","err","message","this","sectors","getSectors","sortedSectors","Object","keys","getTotalPortfolioValue","React","Component","translate","tooltip","SVG","style","fill","viewBox","height","xmlns","xmlnsXlink","d","yieldIsGood","directYield","getYieldTarget","yieldIsVeryGood","peIsGood","priceEarningsRatio","peIsVeryGood","peIsVeryBad","tenYearsBondInterest","volatilityIsGood","volatility","volatilityIsVeryGood","averageOMXS30volatility","volatilityIsBad","volatilityIsVeryBad","getClassNames","veryGood","veryBad","Stock","formatDate","getFullYear","getMonth","slice","getDate","showSingleStock","columnsToShow","stockdata","handleClickReport","type","owned","reportType","href","onClick","year","period","handleClick","shouldShowOldReportWarning","reportDate","data-tip","Date","WarningIcon","currentTime","getTime","reportTime","threeMonthsInMilliseconds","column","changeValues","changeValue","renderMainColumn","renderStockData","StockTable","sortKey","sortOrder","prevState","latestInterimReport","latestAnnualReport","ownedStocks","aData","normalizeData","bData","concat","sortBy","tableType","getMainColumn","stockId","found","stockIsOwned","PureComponent","defaultProps","ReportInputSection","reportData","multiplier","revenue","earningsBeforeInterestAndTax","netEarnings","totalAssets","totalEquity","totalDebt","numberOfShares","numberOfEmployees","profitFromPropertyManagementBeforeTax","handleInputChange","bind","handleSubmit","event","target","checked","preventDefault","data","report","multiply","method","body","json","reportSaved","stockDetails","onSubmit","onChange","SingleStock","stocksDetails","showReportInput","inheritedColumns","filter","col","extraColumns","Set","annualReports","getColumnsToShow","interimReports","renderInputSection","renderAnnualReports","renderInterimReports","renderNewReportButton","CategoryPage","loadData","prevProps","category","setReportType","active","title","renderButtons","Forest","Investment","Bank","Space","App","activePage","activeStock","passOnProps","Invest","page","renderButton","renderActivePage","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c6ba08f2.chunk.js","sourcesContent":["export const exchangeRates = {\n  DKK: 1.39,\n  USD: 8.72,\n  EUR: 10.35\n};\n\nexport const SHOW_PORTFOLIO = false;\n\nexport const BASE_URL = \"https://bissenisse.duckdns.org:443\";\n// export const BASE_URL = \"http://localhost:8080\";\n\nexport const BILLION = 1000000000;\nexport const MILLION = 1000000;\nexport const THOUSAND = 1000;\n\nexport const OPERATING_MARGIN = \"operatingMargin\";\nexport const PRICE_EARNINGS_RATIO = \"priceEarningsRatio\";\nexport const PRICE_SALES_RATIO = \"priceSalesRatio\";\nexport const PRICE_BOOK_VALUE = \"priceBookValue\";\nexport const DIRECT_YIELD = \"directYield\";\nexport const VOLATILITY = \"volatility\";\nexport const NUMBER_OF_EMPLOYEES = \"numberOfEmployees\";\nexport const REVENUE = \"revenue\"; // = sales\nexport const REVENUE_PER_EMPLOYEE = \"revenuePerEmployee\";\nexport const REVENUE_PER_SHARE = \"revenuePerShare\";\nexport const TOTAL_ASSETS = \"totalAssets\";\nexport const EARNINGS_PER_SHARE = \"earningsPerShare\";\nexport const NET_EARNINGS = \"netEarnings\";\nexport const NUMBER_OF_SHARES = \"numberOfShares\";\nexport const TOTAL_EQUITY = \"totalEquity\"; // = eget kapital\nexport const TOTAL_DEBT = \"totalDebt\";\nexport const SOLIDITY = \"solidity\";\nexport const MARKET_CAP = \"marketCap\";\nexport const YEAR = \"year\";\nexport const ID = \"id\";\nexport const LAST_PRICE = \"lastPrice\";\nexport const CURRENCY = \"currency\";\nexport const EBIT = \"earningsBeforeInterestAndTax\";\nexport const CHANGE_VALUES = \"changeValues\";\nexport const OLLE = \"OLLE\";\nexport const RETURN_ON_EQUITY = \"returnOnEquity\";\nexport const RETURN_ON_CAPITAL_EMPLOYED = \"returnOnCapitalEmployed\";\nexport const NET_ASSET_VALUE = \"netAssetValue\";\nexport const NET_ASSET_VALUE_RATIO = \"netAssetValueRatio\";\nexport const PROFIT_FROM_PROPERTY_MANAGEMENT_BEFORE_TAX =\n  \"profitFromPropertyManagementBeforeTax\";\nexport const PFPMBF_PER_SHARE = \"profitFromPropertyManagementBeforeTaxPerShare\";\nexport const PRICE_PFPMBT_RATIO =\n  \"price_profitFromPropertyManagementBeforeTax_ratio\";\nexport const PRICE_PFPMAT_RATIO =\n  \"price_profitFromPropertyManagementAfterTax_ratio\";\n\nexport const ANNUAL_REPORTS_TABLE = \"annualReportsTable\";\nexport const INTERIM_REPORTS_TABLE = \"interimReportsTable\";\nexport const MULTIPLE_STOCKS_TABLE = \"multipleStocksTable\";\n\nexport const QUARTERLY_REPORT = \"quarter\";\nexport const ANNUAL_REPORT = \"year\";\n","const basePortfolioStrategy = {\n  minShare: 20,\n  maxShare: 30,\n  minNumberOfStocks: 8,\n  maxNumberOfStocks: 12,\n  minRatioOfEachShareInPortfolio: 5,\n  maxRatioOfEachShareInPortfolio: 30\n};\n\nconst portfolios = [\n  {\n    id: \"1\",\n    name: \"Basportföljen\",\n    stocks: [\n      // {\n      //   id: \"5465\",\n      //   name: \"Axfood\",\n      //   amount: 10,\n      //   sector: \"Konsumentvaror\"\n      // }\n    ],\n    strategy: {\n      ...basePortfolioStrategy,\n      minShare: 40,\n      maxShare: 60\n    }\n  },\n  {\n    id: \"2\",\n    name: \"Raketportföljen\",\n    stocks: [\n      // {\n      //   id: \"3323\",\n      //   name: \"Apple Inc\",\n      //   amount: 1,\n      //   sector: \"Teknik\"\n      // }\n    ],\n    strategy: basePortfolioStrategy\n  }\n];\n\nexport default portfolios;\n","import { getPortfolios } from \"./dataRetriever\";\n\nexport function getPortfolioValue(portfolioData) {\n  return portfolioData.stocks.reduce((sum, stock) => {\n    return sum + getStockValue(stock);\n  }, 0);\n}\n\nexport function portfolioRatioIsGood(portfolioData, totalPortfolioValue) {\n  const portfolioRatio =\n    (getPortfolioValue(portfolioData) / totalPortfolioValue) * 100;\n  return (\n    portfolioRatio >= portfolioData.strategy.minShare &&\n    portfolioRatio <= portfolioData.strategy.maxShare\n  );\n}\n\nexport function numberOfStocksIsGood(portfolioData) {\n  return (\n    portfolioData.stocks.length >= portfolioData.strategy.minNumberOfStocks &&\n    portfolioData.stocks.length <= portfolioData.strategy.maxNumberOfStocks\n  );\n}\n\nexport function getStockValue(stock) {\n  // Adds hard-coded cash value for stocks in portfolio.\n  // This is useful when figuring out how much to invest in a certain stock\n  // in order to fulfill your investment strategy\n  return (stock.amount * stock.lastPrice) + (stock.cash ? stock.cash : 0);\n}\n\nexport function getAllOwnedStocks() {\n  return new Promise((resolve, reject) => {\n    let stocks = [];\n    getPortfolios().then(portfolios => {\n      portfolios.forEach(portfolio => {\n        stocks = stocks.concat(portfolio.stocks);\n      });\n      resolve(stocks);\n    });\n  });\n}\n","import { BASE_URL } from \"../constants\";\n\nconst rp = require(\"request-promise-native\");\n\nexport function saveReport(id, data) {\n  return new Promise((resolve, reject) => {\n    rp({\n      method: \"PUT\",\n      uri: `${BASE_URL}/stock/${id}/reports`,\n      body: data,\n      json: true\n    }).then(returnData => {\n      resolve(returnData);\n    });\n  });\n}\n\nexport function getStockData(id) {\n  return new Promise((resolve, reject) => {\n    rp({\n      uri: `${BASE_URL}/stock/${id}`\n    }).then(returnData => {\n      let parsedData = JSON.parse(returnData);\n      resolve(parsedData);\n    });\n  });\n}\n","// import portfolios from \"../data/portfolioData\";\nimport portfolios from \"./portfolioData\";\nimport { getStockValue } from \"./portfolioUtils\";\nimport { getStockData } from \"../SingleStock/backend\";\nimport { exchangeRates } from \"../constants\";\n\n\nexport function getPortfolios() {\n  return new Promise((resolve, reject) => {\n    let promises = [];\n    portfolios.forEach((portfolio) => {\n      promises.push(getStocksInPortfolio(portfolio));\n    });\n    Promise.all(promises).then((returnData) => {\n      resolve(returnData);\n    });\n  });\n}\n\nfunction getStocksInPortfolio(portfolio) {\n  let returnData = portfolio;\n  return new Promise((resolve, reject) => {\n    let promises = [];\n    portfolio.stocks.forEach(stock => {\n      promises.push(getStockWithAmount(stock));\n    });\n    Promise.all(promises).then(stocks => {\n      returnData.stocks = stocks.sort((a, b) => {\n        return getStockValue(b) - getStockValue(a);\n      });\n      resolve(returnData);\n    });\n  });\n}\n\nfunction getStockWithAmount(stock) {\n  return new Promise((resolve, reject) => {\n    getStockData(stock.id).then(stockData => {\n      let combinedData = { ...stock, ...stockData };\n      combinedData = convertToSEK(combinedData);\n      resolve(combinedData);\n    });\n  });\n}\n\nfunction convertToSEK(stockData) {\n  switch (stockData.currency) {\n    case \"SEK\":\n      return stockData;\n    case \"USD\":\n      return {\n        ...stockData,\n        currency: \"SEK\",\n        lastPrice: stockData.lastPrice * exchangeRates.USD\n      };\n    case \"DKK\":\n      return {\n        ...stockData,\n        currency: \"SEK\",\n        lastPrice: stockData.lastPrice * exchangeRates.DKK\n      };\n    case \"EUR\":\n      return {\n        ...stockData,\n        currency: \"SEK\",\n        lastPrice: stockData.lastPrice * exchangeRates.EUR\n      };\n    default:\n      console.error(\"Missing currency: \" + stockData.currency);\n      return stockData;\n  }\n}\n","const { YEAR, BILLION, MILLION, THOUSAND } = require(\"../constants\");\n\nexport function formatField(key, value) {\n  if (keyShouldBeFormatted(key)) {\n    return formatNumber(value);\n  }\n  return value;\n}\n\nexport function formatAllFields(inputData) {\n  let stockDetails = { ...inputData };\n\n  Object.keys(stockDetails).forEach(key => {\n    if (keyShouldBeFormatted(key)) {\n      stockDetails[key] = formatNumber(stockDetails[key]);\n    }\n  });\n\n  return stockDetails;\n}\n\nfunction keyShouldBeFormatted(key) {\n  switch (key) {\n    case YEAR:\n      return false;\n    case \"_id\":\n      return false;\n    default:\n      return true;\n  }\n}\n\nfunction formatNumber(number) {\n  if (isNaN(number) || typeof number !== \"number\") {\n    return number;\n  }\n\n  let returnValue = \"\";\n  const negative = number < 0;\n  if (negative) {\n    number = number * -1;\n  }\n\n  if (number >= BILLION) {\n    returnValue = number.toPrecision(3) / BILLION + \" miljarder\";\n  } else if (number >= MILLION) {\n    returnValue = number.toPrecision(3) / MILLION + \" miljoner\";\n  } else if (number >= THOUSAND) {\n    returnValue = numberWithSpaces(number.toFixed(0));\n  } else {\n    returnValue = number.toPrecision(3).replace(\".00e+3\", \" 000\");\n  }\n\n  if (negative) {\n    returnValue = \"-\" + returnValue;\n  }\n\n  return returnValue;\n}\n\nfunction numberWithSpaces(x) {\n  var parts = x.toString().split(\".\");\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n  return parts.join(\".\");\n}\n","import React from \"react\";\r\nimport { getPortfolios } from \"./dataRetriever\";\r\nimport {\r\n  getPortfolioValue,\r\n  portfolioRatioIsGood,\r\n  numberOfStocksIsGood,\r\n  getStockValue\r\n} from \"./portfolioUtils\";\r\nimport { PRICE_EARNINGS_RATIO, LAST_PRICE, DIRECT_YIELD } from \"../constants\";\r\nimport { formatField } from \"../api/formatAllFields\";\r\n\r\nvar classNames = require(\"classnames\");\r\n\r\nclass Portfolio extends React.Component {\r\n  state = {\r\n    portfolios: [],\r\n    error: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    getPortfolios()\r\n      .then(portfolios => {\r\n        this.setState({\r\n          portfolios: portfolios\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        this.setState({\r\n          error: err.message\r\n        });\r\n      });\r\n  }\r\n\r\n  getTotalPortfolioValue() {\r\n    return this.state.portfolios.reduce((sum, portfolio) => {\r\n      return sum + getPortfolioValue(portfolio);\r\n    }, 0);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.error != null) {\r\n      return <p>{this.state.error}</p>;\r\n    }\r\n\r\n    const sectors = getSectors(this.state.portfolios);\r\n    let sortedSectors = [];\r\n    Object.keys(sectors).forEach(sector => {\r\n      sortedSectors.push({\r\n        name: sector,\r\n        value: (sectors[sector] / this.getTotalPortfolioValue()) * 100\r\n      });\r\n    });\r\n    sortedSectors = sortedSectors.sort(function(a, b) {\r\n      return a.value < b.value ? 1 : b.value < a.value ? -1 : 0;\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <h1>Alla portföljer</h1>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th width=\"40%\">Portfölj</th>\r\n              <th width=\"30%\">Andel</th>\r\n              <th width=\"30%\">Antal innehav</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.state.portfolios.map(portfolioData => (\r\n              <PortfolioRow\r\n                portfolioData={portfolioData}\r\n                totalPortfolioValue={this.getTotalPortfolioValue()}\r\n                key={portfolioData.id}\r\n              />\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        <h2>Branschfördelning</h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th width=\"40%\">Bransch</th>\r\n              <th width=\"30%\">Andel</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {sortedSectors.map(sector => (\r\n              <tr>\r\n                <td>{sector.name}</td>\r\n                <td>{sector.value.toFixed(2)}%</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        {this.state.portfolios.map(portfolioData => (\r\n          <PortfolioDetails\r\n            portfolioData={portfolioData}\r\n            key={portfolioData.id}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction getSectors(portfolios) {\r\n  let sectors = {};\r\n  portfolios.forEach(portfolioData => {\r\n    portfolioData.stocks.forEach(stock => {\r\n      if (!sectors[stock.sector]) {\r\n        sectors[stock.sector] = 0;\r\n      }\r\n      sectors[stock.sector] += getStockValue(stock);\r\n    });\r\n  });\r\n  return sectors;\r\n}\r\n\r\nfunction PortfolioRow(props) {\r\n  const { portfolioData, totalPortfolioValue } = props;\r\n  const portfolioRatio =\r\n    (getPortfolioValue(portfolioData) / totalPortfolioValue) * 100;\r\n  return (\r\n    <tr key={portfolioData.id}>\r\n      <td>{portfolioData.name}</td>\r\n      <td\r\n        className={classNames({\r\n          good: portfolioRatioIsGood(portfolioData, totalPortfolioValue),\r\n          bad: !portfolioRatioIsGood(portfolioData, totalPortfolioValue)\r\n        })}\r\n      >\r\n        {portfolioRatio.toFixed(2)}%\r\n      </td>\r\n      <td\r\n        className={classNames({\r\n          good: numberOfStocksIsGood(portfolioData),\r\n          bad: !numberOfStocksIsGood(portfolioData)\r\n        })}\r\n      >\r\n        {portfolioData.stocks.length}\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nfunction PortfolioDetails(props) {\r\n  const { portfolioData } = props;\r\n  const {\r\n    minRatioOfEachShareInPortfolio,\r\n    maxRatioOfEachShareInPortfolio\r\n  } = portfolioData.strategy;\r\n\r\n  return (\r\n    <div>\r\n      <h2>{portfolioData.name}</h2>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th width=\"10%\">ID</th>\r\n            <th width=\"30%\">Aktie</th>\r\n            <th width=\"20%\">Andel av portfölj</th>\r\n            <th width=\"30%\">Bransch</th>\r\n            <th width=\"10%\">P/E</th>\r\n            <th width=\"10%\">Aktiekurs (SEK)</th>\r\n            <th width=\"10%\">Direktavkastning</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {portfolioData.stocks.map(stock => (\r\n            <StockRow\r\n              stock={stock}\r\n              portfolioValue={getPortfolioValue(portfolioData)}\r\n              minRatio={minRatioOfEachShareInPortfolio}\r\n              maxRatio={maxRatioOfEachShareInPortfolio}\r\n              key={stock.id}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction stockRatioIsGood(stockRatio, minRatio, maxRatio) {\r\n  return stockRatio >= minRatio && stockRatio <= maxRatio;\r\n}\r\n\r\nfunction StockRow(props) {\r\n  const { stock, portfolioValue, minRatio, maxRatio } = props;\r\n\r\n  const stockRatio = (getStockValue(stock) / portfolioValue) * 100;\r\n  return (\r\n    <tr key={stock.id}>\r\n      <td>{stock.id}</td>\r\n      <td>{stock.name}</td>\r\n      <td\r\n        className={classNames({\r\n          good: stockRatioIsGood(stockRatio, minRatio, maxRatio),\r\n          bad: !stockRatioIsGood(stockRatio, minRatio, maxRatio)\r\n        })}\r\n      >\r\n        {stockRatio.toFixed(2)}%\r\n      </td>\r\n      <td>{stock.sector}</td>\r\n      <td>{stock[PRICE_EARNINGS_RATIO]}</td>\r\n      <td>{formatField(LAST_PRICE, stock[LAST_PRICE])}</td>\r\n      <td>{stock[DIRECT_YIELD]}%</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default Portfolio;\r\n","import {\n  OPERATING_MARGIN,\n  REVENUE_PER_SHARE,\n  REVENUE_PER_EMPLOYEE,\n  REVENUE,\n  NUMBER_OF_EMPLOYEES,\n  VOLATILITY,\n  DIRECT_YIELD,\n  PRICE_SALES_RATIO,\n  PRICE_EARNINGS_RATIO,\n  TOTAL_ASSETS,\n  EARNINGS_PER_SHARE,\n  PRICE_BOOK_VALUE,\n  SOLIDITY,\n  MARKET_CAP,\n  YEAR,\n  ID,\n  EBIT,\n  NET_EARNINGS,\n  RETURN_ON_EQUITY,\n  RETURN_ON_CAPITAL_EMPLOYED,\n  TOTAL_EQUITY,\n  TOTAL_DEBT,\n  NET_ASSET_VALUE,\n  OLLE,\n  LAST_PRICE,\n  PROFIT_FROM_PROPERTY_MANAGEMENT_BEFORE_TAX,\n  PFPMBF_PER_SHARE,\n  PRICE_PFPMBT_RATIO,\n  PRICE_PFPMAT_RATIO,\n  NET_ASSET_VALUE_RATIO,\n} from \"./constants\";\n\nexport function translate(key) {\n  switch (key) {\n    case PRICE_EARNINGS_RATIO:\n      return \"P/E\";\n    case PRICE_SALES_RATIO:\n      return \"P/S\";\n    case DIRECT_YIELD:\n      return \"Direktavkastning (%)\";\n    case VOLATILITY:\n      return \"Volatilitet\";\n    case NUMBER_OF_EMPLOYEES:\n      return \"Anställda\";\n    case REVENUE:\n      return \"Omsättning\";\n    case REVENUE_PER_EMPLOYEE:\n      return \"Omsättning / anställd\";\n    case REVENUE_PER_SHARE:\n      return \"Omsättning / aktie\";\n    case OPERATING_MARGIN:\n      return \"Rörelsemarginal (%)\";\n    case TOTAL_ASSETS:\n      return \"Tillgångar\";\n    case TOTAL_EQUITY:\n      return \"Eget kapital\";\n    case TOTAL_DEBT:\n      return \"Skuld\";\n    case EARNINGS_PER_SHARE:\n      return \"EPS\";\n    case PRICE_BOOK_VALUE:\n      return \"P/B\";\n    case SOLIDITY:\n      return \"Soliditet (%)\";\n    case MARKET_CAP:\n      return \"Börsvärde\";\n    case YEAR:\n      return \"År\";\n    case ID:\n      return \"ID\";\n    case EBIT:\n      return \"EBIT\";\n    case NET_EARNINGS:\n      return \"Vinst\";\n    case RETURN_ON_EQUITY:\n      return \"ROE (%)\";\n    case RETURN_ON_CAPITAL_EMPLOYED:\n      return \"ROCE (%)\";\n    case NET_ASSET_VALUE:\n      return \"Substansvärde\";\n    case NET_ASSET_VALUE_RATIO:\n        return \"Substansvärdering (%)\";\n    case OLLE:\n      return \"OLLE\";\n    case LAST_PRICE:\n      return \"Aktiekurs\";\n    case PROFIT_FROM_PROPERTY_MANAGEMENT_BEFORE_TAX:\n      return \"Förvaltningsresultat\";\n    case PFPMBF_PER_SHARE:\n      return \"EPS (före skatt)\";\n    case PRICE_PFPMBT_RATIO:\n      return \"P/FV\";\n    case PRICE_PFPMAT_RATIO:\n      return \"P/FV (efter skatt)\";\n    default:\n      return \"\";\n  }\n}\n\nexport function tooltip(key) {\n  switch (key) {\n    case PRICE_EARNINGS_RATIO:\n      return \"Aktiekurs/vinst per aktie\";\n    case PRICE_SALES_RATIO:\n      return \"Aktiekurs/omsättning per aktie\";\n    case DIRECT_YIELD:\n      return \"Direktavkastning (%)\";\n    case VOLATILITY:\n      return \"Volatilitet (%)\";\n    case NUMBER_OF_EMPLOYEES:\n      return \"Antal anställda\";\n    case REVENUE:\n      return \"Omsättning\";\n    case REVENUE_PER_EMPLOYEE:\n      return \"Omsättning / anställd\";\n    case REVENUE_PER_SHARE:\n      return \"Omsättning / aktie\";\n    case OPERATING_MARGIN:\n      return \"Rörelsemarginal (%)\";\n    case TOTAL_ASSETS:\n      return \"Tillgångar\";\n    case TOTAL_EQUITY:\n      return \"Eget kapital\";\n    case TOTAL_DEBT:\n      return \"Skuld\";\n    case EARNINGS_PER_SHARE:\n      return \"Vinst per aktie\";\n    case PRICE_BOOK_VALUE:\n      return \"Aktiekurs/eget kapital per aktie\";\n    case SOLIDITY:\n      return \"Soliditet (%)\";\n    case MARKET_CAP:\n      return \"Börsvärde\";\n    case YEAR:\n      return \"År\";\n    case ID:\n      return \"ID\";\n    case EBIT:\n      return \"Vinst före skatt\";\n    case NET_EARNINGS:\n      return \"Nettoresultat\";\n    case RETURN_ON_EQUITY:\n      return \"Räntabilitet på eget kapital (%)\";\n    case RETURN_ON_CAPITAL_EMPLOYED:\n      return \"Räntabilitet på sysselsatt kapital (%)\";\n    case NET_ASSET_VALUE:\n      return \"Substansvärde (på börsnoterade innehav)\";\n    case NET_ASSET_VALUE_RATIO:\n      return \"Substanspremie/-rabatt\"\n    case OLLE:\n      return \"Aktiekurs/senaste kvartalsomsättningen per aktie x 4\";\n    case LAST_PRICE:\n      return \"Aktiekurs (max 4h gammal)\";\n    case PFPMBF_PER_SHARE:\n      return \"EPS baserat på förvaltningsresultat före skatt\";\n    case PRICE_PFPMBT_RATIO:\n      return \"Aktiekurs / förvaltningsresultat före skatt (per aktie)\";\n    case PRICE_PFPMAT_RATIO:\n      return \"Aktiekurs / förvaltningsresultat beräknat med en schablonskatt på 25%\";\n    case PROFIT_FROM_PROPERTY_MANAGEMENT_BEFORE_TAX:\n      return \"Hyresintäkter - driftskostnader - räntekostnader\"\n    default:\n      return \"\";\n  }\n}\n","import React from \"react\";\n// https://blog.lftechnology.com/using-svg-icons-components-in-react-44fbe8e5f91\n\nconst SVG = ({\n  style = {},\n  fill = \"#000\",\n  width = \"100%\",\n  className = \"\",\n  viewBox = \"0 0 576 512\",\n}) => (\n  <svg\n    width={width}\n    style={style}\n    height={width}\n    viewBox={viewBox}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n  >\n    <path\n      fill={fill}\n      d=\"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z\"\n    />\n  </svg>\n);\n\nexport default SVG;\n","export function yieldIsGood(stockData) {\r\n  const { directYield } = stockData;\r\n\r\n  return directYield > getYieldTarget();\r\n}\r\n\r\nexport function yieldIsVeryGood(stockData) {\r\n  const { directYield } = stockData;\r\n  return directYield > getYieldTarget() * 1.25;\r\n}\r\n\r\nexport function peIsGood(stockData) {\r\n  const { priceEarningsRatio, directYield } = stockData;\r\n\r\n  if (priceEarningsRatio <= 0) {\r\n    return false;\r\n  }\r\n\r\n  return 1 / (directYield / 100) >= priceEarningsRatio;\r\n}\r\n\r\nexport function peIsVeryGood(stockData) {\r\n  const { priceEarningsRatio, directYield } = stockData;\r\n  return (\r\n    peIsGood(stockData) && 1 / (directYield / 100) >= priceEarningsRatio * 2\r\n  );\r\n}\r\n\r\nexport function peIsVeryBad(stockData) {\r\n  const { priceEarningsRatio } = stockData;\r\n  return priceEarningsRatio <= 0;\r\n}\r\n\r\nfunction getYieldTarget() {\r\n  // TODO: get tenYearsBondInterest from some API?\r\n  const tenYearsBondInterest = -0.2;\r\n  const riskPremium = 5;\r\n  return tenYearsBondInterest + riskPremium;\r\n}\r\n\r\nconst averageOMXS30volatility = 21.6;\r\n\r\nexport function volatilityIsGood(stockData) {\r\n  const { volatility } = stockData;\r\n  return volatility <= averageOMXS30volatility * 0.75;\r\n}\r\n\r\nexport function volatilityIsVeryGood(stockData) {\r\n  const { volatility } = stockData;\r\n  return volatility <= averageOMXS30volatility * 0.5;\r\n}\r\n\r\nexport function volatilityIsBad(stockData) {\r\n  const { volatility } = stockData;\r\n  return volatility > averageOMXS30volatility * 1.25;\r\n}\r\n\r\nexport function volatilityIsVeryBad(stockData) {\r\n  const { volatility } = stockData;\r\n  return volatility > averageOMXS30volatility * 1.9;\r\n}\r\n","import React from \"react\";\nimport ReactTooltip from \"react-tooltip\";\nimport WarningIcon from \"./icons/WarningIcon\";\nimport {\n  yieldIsGood,\n  yieldIsVeryGood,\n  peIsGood,\n  peIsVeryGood,\n  volatilityIsGood,\n  volatilityIsBad,\n  volatilityIsVeryGood,\n  volatilityIsVeryBad,\n  peIsVeryBad,\n} from \"./stockIndicators\";\nimport {\n  ANNUAL_REPORTS_TABLE,\n  INTERIM_REPORTS_TABLE,\n  ANNUAL_REPORT,\n} from \"../constants\";\nimport { formatField } from \"../api/formatAllFields\";\n\nconst classNames = require(\"classnames\");\n\nclass Stock extends React.Component {\n  handleClick() {\n    this.props.showSingleStock(\n      this.props.stockData.id,\n      this.props.columnsToShow\n    );\n  }\n\n  handleClickReport(stockdata) {\n    this.props.handleClickReport(stockdata);\n  }\n\n  renderMainColumn() {\n    const { type, stockData, owned, reportType } = this.props;\n    switch (type) {\n      case ANNUAL_REPORTS_TABLE:\n        return (\n          <td>\n            <a href=\"#\" onClick={() => this.handleClickReport(stockData)}>\n              {stockData.year}\n            </a>\n          </td>\n        );\n      case INTERIM_REPORTS_TABLE:\n        return (\n          <td>\n            <a href=\"#\" onClick={() => this.handleClickReport(stockData)}>\n              {stockData.year} {stockData.period}\n            </a>\n          </td>\n        );\n      default:\n        return (\n          <td\n            className={classNames({\n              owned: owned,\n            })}\n          >\n            <ReactTooltip />\n            <a href=\"#\" onClick={() => this.handleClick()}>\n              {stockData.name}\n            </a>\n            {stockData.currency === \"SEK\"\n              ? \"\"\n              : \" (\" + stockData.currency + \")\"}\n            {this.shouldShowOldReportWarning(\n              stockData.reportDate,\n              reportType\n            ) ? (\n              <a\n                data-tip={\n                  \"Avser rapport från \" +\n                  this.formatDate(new Date(stockData.reportDate))\n                }\n              >\n                <WarningIcon width={20} fill=\"#fa2\" />\n              </a>\n            ) : (\n              \"\"\n            )}\n          </td>\n        );\n    }\n  }\n\n  formatDate = (d) =>\n    d.getFullYear() +\n    \"-\" +\n    (\"0\" + (d.getMonth() + 1)).slice(-2) +\n    \"-\" +\n    (\"0\" + d.getDate()).slice(-2) +\n    \" .\";\n\n  shouldShowOldReportWarning(reportDate, reportType) {\n    if (!reportDate) {\n      return false;\n    }\n    const currentTime = new Date().getTime();\n    const reportTime = new Date(reportDate).getTime();\n    const threeMonthsInMilliseconds = 7889400000;\n    const oneYearInMilliseconds = threeMonthsInMilliseconds * 4;\n    if (reportType === ANNUAL_REPORT) {\n      return currentTime - reportTime > oneYearInMilliseconds;\n    }\n    return currentTime - reportTime > threeMonthsInMilliseconds;\n  }\n\n  renderStockData(column) {\n    const { stockData, type } = this.props;\n    switch (type) {\n      case ANNUAL_REPORTS_TABLE:\n      case INTERIM_REPORTS_TABLE:\n        const value = formatField(column, stockData[column]);\n\n        if (!stockData.changeValues) {\n          return value;\n        }\n        const changeValue = stockData.changeValues[column];\n        if (!changeValue || isNaN(changeValue)) {\n          return value;\n        }\n\n        const sign = stockData.changeValues[column] > 0 ? \"+\" : \"\";\n        return value + \" (\" + sign + stockData.changeValues[column] + \"%)\";\n      default:\n        return formatField(column, stockData[column]);\n    }\n  }\n\n  render() {\n    const { stockData, columnsToShow } = this.props;\n\n    return (\n      <tr key={stockData.id}>\n        {this.renderMainColumn()}\n        {columnsToShow.map((column) => {\n          return (\n            <td\n              width=\"15%\"\n              key={column}\n              className={getClassNames(column, stockData)}\n            >\n              {this.renderStockData(column)}\n            </td>\n          );\n        })}\n      </tr>\n    );\n  }\n}\n\nfunction getClassNames(key, stockData) {\n  switch (key) {\n    case \"priceEarningsRatio\":\n      return classNames({\n        good: peIsGood(stockData),\n        veryGood: peIsVeryGood(stockData),\n        veryBad: peIsVeryBad(stockData),\n      });\n    case \"directYield\":\n      return classNames({\n        good: yieldIsGood(stockData),\n        veryGood: yieldIsVeryGood(stockData),\n      });\n    case \"volatility\":\n      return classNames({\n        good: volatilityIsGood(stockData),\n        veryGood: volatilityIsVeryGood(stockData),\n        bad: volatilityIsBad(stockData),\n        veryBad: volatilityIsVeryBad(stockData),\n      });\n    default:\n      return classNames({});\n  }\n}\n\nexport default Stock;\n","import React from \"react\";\nimport ReactTooltip from \"react-tooltip\";\nimport { stockIsOwned } from \"../stockUtils\";\nimport { translate, tooltip } from \"../translate\";\nimport {\n  PRICE_EARNINGS_RATIO,\n  DIRECT_YIELD,\n  VOLATILITY,\n  ANNUAL_REPORTS_TABLE,\n  YEAR,\n  MULTIPLE_STOCKS_TABLE,\n  INTERIM_REPORTS_TABLE,\n  QUARTERLY_REPORT,\n  OLLE,\n  LAST_PRICE,\n} from \"../constants\";\nimport Stock from \"./Stock\";\n\n// PureComponents only rerender if at least one state or prop value changes.\n// Change is determined by doing a shallow comparison of state and prop keys.\n// Memoization might increase performance further\n// https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\nclass StockTable extends React.PureComponent {\n  state = {\n    sortKey: PRICE_EARNINGS_RATIO,\n    sortOrder: 1,\n  };\n\n  sortBy(sortKey) {\n    if (sortKey === this.state.sortKey) {\n      this.setState(prevState => ({sortOrder: prevState.sortOrder *  -1}));\n    }\n    this.setState({sortKey: sortKey});\n  }\n\n  normalizeData(stockData) {\n    return this.props.reportType === QUARTERLY_REPORT\n        ? { ...stockData, ...stockData.latestInterimReport }\n        : { ...stockData, ...stockData.latestAnnualReport };\n  }\n\n  render() {\n    const { stocks, ownedStocks, type, reportType } = this.props;\n    const { sortKey, sortOrder } = this.state;\n\n    if (sortKey) {\n      stocks.sort((a, b) => {\n        const aData = this.normalizeData(a)[sortKey];\n        const bData = this.normalizeData(b)[sortKey];\n        if (!aData) {\n          return -1 * sortOrder;\n        }\n        if (!bData) {\n          return 1 * sortOrder;\n        }\n        return aData < bData ? -1 * sortOrder : 1 * sortOrder;\n      });\n    }\n  \n    let columnsToShow = this.props.columnsToShow;\n  \n    if (reportType === QUARTERLY_REPORT) {\n      columnsToShow = columnsToShow.concat([OLLE]);\n    }\n  \n    return (\n      <>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"40%\" onClick={() => this.sortBy(\"name\")}>{getMainColumn(type)}</th>\n              {columnsToShow.map((column) => {\n                return (\n                  <th width=\"15%\" key={column} data-tip={tooltip(column)} onClick={() => this.sortBy(column)}>\n                    {translate(column)}\n                  </th>\n                );\n              })}\n            </tr>\n          </thead>\n          <tbody>\n            {stocks.map((stockData) => {\n              const owned = stockIsOwned(stockData.id, ownedStocks);\n              return (\n                <Stock\n                  stockData={this.normalizeData(stockData)}\n                  key={stockData.id}\n                  owned={owned}\n                  columnsToShow={columnsToShow}\n                  showSingleStock={this.props.showSingleStock}\n                  handleClickReport={this.props.handleClickReport}\n                  type={type}\n                  reportType={reportType}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n        <ReactTooltip />\n      </>\n    );\n  }\n}\n\nfunction getMainColumn(tableType) {\n  switch (tableType) {\n    case ANNUAL_REPORTS_TABLE:\n      return translate(YEAR);\n    case INTERIM_REPORTS_TABLE:\n      return \"Period\";\n    default:\n      return \"Aktie\";\n  }\n}\n\nStockTable.defaultProps = {\n  type: MULTIPLE_STOCKS_TABLE,\n  columnsToShow: [\n    LAST_PRICE,\n    PRICE_EARNINGS_RATIO,\n    DIRECT_YIELD,\n    VOLATILITY,\n  ],\n};\n\nexport default StockTable;\n","export function stockIsOwned(stockId, ownedStocks) {\n  let found = false;\n  ownedStocks.forEach(stock => {\n    if (stock.id === stockId) {\n      found = true;\n      return;\n    }\n  });\n  return found;\n}\n","import React from \"react\";\n\nimport { MILLION, BILLION, THOUSAND } from \"../constants\";\nimport { saveReport } from \"./backend\";\n\nclass ReportInputSection extends React.Component {\n  constructor(props) {\n    super(props);\n\n    if (props.reportData) {\n      this.state = props.reportData;\n    } else {\n      this.state = {\n        currency: \"SEK\",\n        multiplier: \"NONE\",\n        period: \"YEAR\",\n        year: 2020,\n        revenue: 0,\n        earningsBeforeInterestAndTax: 0,\n        netEarnings: 0,\n        totalAssets: 0,\n        totalEquity: 0,\n        totalDebt: 0,\n        numberOfShares: 0,\n        numberOfEmployees: 0,\n        reportDate: \"\",\n        profitFromPropertyManagementBeforeTax: 0,\n      };\n    }\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  multiply(value) {\n    if (!this.state.multiplier || this.state.multiplier === \"\") {\n      return value * 1;\n    }\n    switch (this.state.multiplier) {\n      case \"MILLION\":\n        return value * MILLION;\n      case \"BILLION\":\n        return value * BILLION;\n      case \"THOUSAND\":\n        return value * THOUSAND;\n      case \"NONE\":\n        return value * 1;\n      default:\n        return value * 1;\n    }\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    // Multiply by 1 to ensure its a number, not a string\n    let report = {\n      currency: this.state.currency,\n      year: this.state.year * 1,\n      revenue: this.multiply(this.state.revenue),\n      earningsBeforeInterestAndTax: this.multiply(\n        this.state.earningsBeforeInterestAndTax\n      ),\n      netEarnings: this.multiply(this.state.netEarnings),\n      numberOfShares: this.state.numberOfShares * 1,\n      numberOfEmployees: this.state.numberOfEmployees * 1,\n      reportDate: new Date(this.state.reportDate),\n    };\n\n    if (this.state.period !== \"YEAR\") {\n      report.period = this.state.period;\n    }\n\n    if (this.state.totalAssets !== 0) {\n      report.totalAssets = this.multiply(this.state.totalAssets);\n    }\n    if (this.state.totalEquity !== 0) {\n      report.totalEquity = this.multiply(this.state.totalEquity);\n    }\n    if (this.state.totalDebt !== 0) {\n      report.totalDebt = this.multiply(this.state.totalDebt);\n    }\n\n    if (this.state.profitFromPropertyManagementBeforeTax !== 0) {\n      report.profitFromPropertyManagementBeforeTax = this.multiply(\n        this.state.profitFromPropertyManagementBeforeTax\n      );\n    }\n\n    saveReport(this.props.id, report).then(() => {\n      this.props.reportSaved();\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>{this.props.stockDetails.name} – Lägg till rapport</h2>\n        <form onSubmit={this.handleSubmit}>\n          <label>\n            År:\n            <input\n              name=\"year\"\n              type=\"number\"\n              value={this.state.year}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <br />\n          <label>\n            Kvartal:\n            <select\n              name=\"period\"\n              value={this.state.period}\n              onChange={this.handleInputChange}\n            >\n              <option value=\"YEAR\">Helår</option>\n              <option value=\"Q1\">Q1</option>\n              <option value=\"Q2\">Q2</option>\n              <option value=\"Q3\">Q3</option>\n              <option value=\"Q4\">Q4</option>\n            </select>\n          </label>\n          <br />\n          <label>\n            Rapportdatum:\n            <input\n              name=\"reportDate\"\n              type=\"string\"\n              value={this.state.reportDate}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <br />\n          <label>\n            Antal aktier (samtliga aktieslag):\n            <input\n              name=\"numberOfShares\"\n              type=\"number\"\n              value={this.state.numberOfShares}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <h3>Räkenskaper</h3>\n          <label>\n            Valuta:\n            <select\n              name=\"multiplier\"\n              value={this.state.multiplier}\n              onChange={this.handleInputChange}\n            >\n              <option value=\"NONE\"></option>\n              <option value=\"THOUSAND\">Tusen</option>\n              <option value=\"MILLION\">Miljoner</option>\n              <option value=\"BILLION\">Miljarder</option>\n            </select>\n            <select\n              name=\"currency\"\n              value={this.state.currency}\n              onChange={this.handleInputChange}\n            >\n              <option value=\"SEK\">SEK</option>\n              <option value=\"EUR\">EUR</option>\n              <option value=\"USD\">USD</option>\n              <option value=\"DKK\">DKK</option>\n            </select>\n          </label>\n          <br />\n          <label>\n            Omsättning (revenue):\n            <input\n              name=\"revenue\"\n              type=\"number\"\n              value={this.state.revenue}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <br />\n\n          <label>\n            Rörelseresultat (EBIT):\n            <input\n              name=\"earningsBeforeInterestAndTax\"\n              type=\"number\"\n              value={this.state.earningsBeforeInterestAndTax}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <br />\n\n          <label>\n            Vinst (Net earnings):\n            <input\n              name=\"netEarnings\"\n              type=\"number\"\n              value={this.state.netEarnings}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <br />\n\n          <label>\n            Tillgångar (Total assets):\n            <input\n              name=\"totalAssets\"\n              type=\"number\"\n              value={this.state.totalAssets}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <br />\n\n          <label>\n            Eget kapital (Total equity):\n            <input\n              name=\"totalEquity\"\n              type=\"number\"\n              value={this.state.totalEquity}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <br />\n\n          <label>\n            Skuld (Total debt):\n            <input\n              name=\"totalDebt\"\n              type=\"number\"\n              value={this.state.totalDebt}\n              onChange={this.handleInputChange}\n            />\n          </label>\n          <br />\n\n          <h5>Branschspecifika räkenskaper</h5>\n          <label>\n            Förvaltningsresultat:\n            <input\n              name=\"profitFromPropertyManagementBeforeTax\"\n              type=\"number\"\n              value={this.state.profitFromPropertyManagementBeforeTax}\n              onChange={this.handleInputChange}\n            />\n          </label>\n\n          <h3>Annan info</h3>\n          <label>\n            Antal anställda:\n            <input\n              name=\"numberOfEmployees\"\n              type=\"number\"\n              value={this.state.numberOfEmployees}\n              onChange={this.handleInputChange}\n            />\n          </label>\n\n          <br />\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default ReportInputSection;\n","import React from \"react\";\nimport StockTable from \"../components/StockTable\";\n\nimport {\n  PRICE_EARNINGS_RATIO,\n  ANNUAL_REPORTS_TABLE,\n  INTERIM_REPORTS_TABLE,\n  VOLATILITY,\n  DIRECT_YIELD,\n  MARKET_CAP,\n  PRICE_BOOK_VALUE,\n  PRICE_SALES_RATIO,\n  REVENUE,\n  EBIT,\n  NET_EARNINGS,\n  TOTAL_ASSETS,\n  TOTAL_EQUITY,\n  TOTAL_DEBT,\n  NET_ASSET_VALUE\n} from \"../constants\";\nimport { getStockData } from \"./backend\";\nimport ReportInputSection from \"./ReportInputSection\";\n\nclass SingleStock extends React.Component {\n  state = {\n    stocksDetails: null,\n    error: null,\n    showReportInput: false,\n    reportData: null\n  };\n\n  componentDidMount() {\n    getStockData(this.props.id).then(data => {\n      this.setState({\n        stockDetails: data\n      });\n    });\n  }\n\n  getColumnsToShow() {\n    const inheritedColumns = this.props.columnsToShow.filter(col => {\n      return (\n        col !== PRICE_EARNINGS_RATIO &&\n        col !== VOLATILITY &&\n        col !== DIRECT_YIELD &&\n        col !== MARKET_CAP &&\n        col !== PRICE_BOOK_VALUE &&\n        col !== PRICE_SALES_RATIO &&\n        col !== NET_ASSET_VALUE\n      );\n    });\n    const extraColumns = [\n      REVENUE,\n      EBIT,\n      NET_EARNINGS,\n      TOTAL_ASSETS,\n      TOTAL_EQUITY,\n      TOTAL_DEBT\n    ];\n    return [...new Set([...inheritedColumns, ...extraColumns])];\n  }\n\n  renderAnnualReports() {\n    const { stockDetails } = this.state;\n\n    if (!stockDetails.annualReports) {\n      return <div></div>;\n    }\n    return (\n      <div>\n        <h2>Årsrapporter</h2>\n        <StockTable\n          type={ANNUAL_REPORTS_TABLE}\n          stocks={stockDetails.annualReports}\n          ownedStocks={[]}\n          columnsToShow={this.getColumnsToShow()}\n          handleClickReport={this.handleClickReport.bind(this)}\n        />\n      </div>\n    );\n  }\n\n  renderInterimReports() {\n    const { stockDetails } = this.state;\n\n    if (!stockDetails.interimReports) {\n      return <div></div>;\n    }\n    return (\n      <div>\n        <h2>Kvartalsrapporter</h2>\n        <StockTable\n          type={INTERIM_REPORTS_TABLE}\n          stocks={stockDetails.interimReports}\n          ownedStocks={[]}\n          columnsToShow={this.getColumnsToShow()}\n          handleClickReport={this.handleClickReport.bind(this)}\n        />\n      </div>\n    );\n  }\n\n  handleClickReport(reportData) {\n    this.setState({ showReportInput: true, reportData: reportData });\n  }\n\n  reportSaved() {\n    this.setState({ showReportInput: false, reportData: null });\n  }\n\n  renderInputSection() {\n    if (!this.props.id) {\n      return <div />;\n    }\n    return (\n      <div>\n        <ReportInputSection\n          id={this.props.id}\n          stockDetails={this.state.stockDetails}\n          reportData={this.state.reportData}\n          reportSaved={this.reportSaved.bind(this)}\n        />\n      </div>\n    );\n  }\n\n  renderNewReportButton() {\n    return (\n      <button\n        onClick={() => {\n          this.setState({ showReportInput: true, reportData: null });\n        }}\n      >\n        New Report\n      </button>\n    );\n  }\n\n  render() {\n    if (this.state.error != null) {\n      return <p>{this.state.error}</p>;\n    }\n\n    const { stockDetails, showReportInput } = this.state;\n\n    if (!stockDetails) {\n      return <div />;\n    }\n\n    if (showReportInput) {\n      return this.renderInputSection();\n    }\n\n    return (\n      <div>\n        <h1>{stockDetails.name}</h1>\n\n        {this.renderAnnualReports()}\n        {this.renderInterimReports()}\n        <hr />\n        {this.renderNewReportButton()}\n      </div>\n    );\n  }\n}\n\nexport default SingleStock;\n","import { BASE_URL } from \"./constants\";\n\nconst rp = require(\"request-promise-native\");\n\nexport function getStocks(category) {\n  return new Promise((resolve, reject) => {\n    rp(`${BASE_URL}/category/${category}`).then(stockData => {\n      let parsedData = JSON.parse(stockData);\n      resolve(parsedData.stocks);\n    });\n  });\n}\n","import React from \"react\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport StockTable from \"../components/StockTable\";\nimport { getStocks } from \"../dataRetriever\";\n\nimport { getAllOwnedStocks } from \"../Portfolio/portfolioUtils\";\nimport { QUARTERLY_REPORT, ANNUAL_REPORT } from \"../constants\";\nconst classNames = require(\"classnames\");\n\nclass CategoryPage extends React.Component {\n  state = {\n    stocks: [],\n    ownedStocks: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.category === prevProps.category) {\n      return;\n    }\n    this.loadData();\n  }\n\n  loadData() {\n    getStocks(this.props.category)\n      .then((stocks) => {\n        this.setState({\n          stocks: stocks,\n        });\n      })\n      .catch((err) => {\n        console.error(err);\n        this.setState({\n          error: err.message,\n        });\n      });\n\n    getAllOwnedStocks().then((ownedStocks) => {\n      this.setState({\n        ownedStocks: ownedStocks,\n      });\n    });\n  }\n\n  renderButtons() {\n    return (\n      <>\n        Visa senaste:\n        <button\n          onClick={() => {\n            this.props.setReportType(ANNUAL_REPORT);\n          }}\n          className={classNames({\n            active: this.props.reportType === ANNUAL_REPORT,\n          })}\n          data-tip=\"Visa data från senaste årsredovisningen\"\n        >\n          Helår\n        </button>\n        <button\n          onClick={() => {\n            this.props.setReportType(QUARTERLY_REPORT);\n          }}\n          className={classNames({\n            active: this.props.reportType === QUARTERLY_REPORT,\n          })}\n          data-tip=\"Visa data från senaste kvartalsrapporten\"\n        >\n          Kvartal\n        </button>\n        <ReactTooltip />\n      </>\n    );\n  }\n\n  render() {\n    if (this.state.error != null) {\n      return <p>{this.state.error}</p>;\n    }\n\n    return (\n      <div>\n        <h1>{this.props.title}</h1>\n        {this.renderButtons()}\n        <StockTable\n          stocks={this.state.stocks}\n          ownedStocks={this.state.ownedStocks}\n          showSingleStock={this.props.showSingleStock}\n          columnsToShow={this.props.columnsToShow}\n          reportType={this.props.reportType}\n        />\n        <p>\n          <i>Klicka på en kolumnrubrik för att sortera tabellen.</i>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default CategoryPage;\n","import React from \"react\";\r\nimport {\r\n  PRICE_EARNINGS_RATIO,\r\n  DIRECT_YIELD,\r\n  VOLATILITY,\r\n  PRICE_BOOK_VALUE,\r\n  EARNINGS_PER_SHARE,\r\n  REVENUE_PER_EMPLOYEE,\r\n  REVENUE_PER_SHARE,\r\n  OPERATING_MARGIN,\r\n  SOLIDITY,\r\n  PRICE_SALES_RATIO,\r\n  MARKET_CAP,\r\n  RETURN_ON_EQUITY,\r\n  RETURN_ON_CAPITAL_EMPLOYED,\r\n  LAST_PRICE,\r\n} from \"../constants\";\r\nimport CategoryPage from \"../components/CategoryPage\";\r\n\r\nclass Forest extends React.Component {\r\n  state = {\r\n    stocks: [],\r\n    ownedStocks: [],\r\n    error: null,\r\n    columnsToShow: [\r\n      LAST_PRICE,\r\n      PRICE_EARNINGS_RATIO,\r\n      DIRECT_YIELD,\r\n      VOLATILITY,\r\n      PRICE_BOOK_VALUE,\r\n      EARNINGS_PER_SHARE,\r\n      REVENUE_PER_EMPLOYEE,\r\n      REVENUE_PER_SHARE,\r\n      OPERATING_MARGIN,\r\n      SOLIDITY,\r\n      PRICE_SALES_RATIO,\r\n      MARKET_CAP,\r\n      RETURN_ON_EQUITY,\r\n      RETURN_ON_CAPITAL_EMPLOYED,\r\n    ],\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <CategoryPage\r\n        category=\"forest\"\r\n        title=\"Skog\"\r\n        columnsToShow={this.state.columnsToShow}\r\n        reportType={this.props.reportType}\r\n        setReportType={this.props.setReportType}\r\n        showSingleStock={this.props.showSingleStock}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Forest;\r\n","import React from \"react\";\r\nimport {\r\n  DIRECT_YIELD,\r\n  TOTAL_ASSETS,\r\n  EARNINGS_PER_SHARE,\r\n  PRICE_BOOK_VALUE,\r\n  SOLIDITY,\r\n  MARKET_CAP,\r\n  NET_EARNINGS,\r\n  EBIT,\r\n  RETURN_ON_EQUITY,\r\n  RETURN_ON_CAPITAL_EMPLOYED,\r\n  NET_ASSET_VALUE,\r\n  NET_ASSET_VALUE_RATIO,\r\n  LAST_PRICE,\r\n} from \"../constants\";\r\nimport CategoryPage from \"../components/CategoryPage\";\r\n\r\nclass Investment extends React.Component {\r\n  state = {\r\n    stocks: [],\r\n    ownedStocks: [],\r\n    error: null,\r\n    columnsToShow: [\r\n      LAST_PRICE,\r\n      DIRECT_YIELD,\r\n      NET_EARNINGS,\r\n      EBIT,\r\n      EARNINGS_PER_SHARE,\r\n      TOTAL_ASSETS,\r\n      PRICE_BOOK_VALUE,\r\n      SOLIDITY,\r\n      RETURN_ON_EQUITY,\r\n      RETURN_ON_CAPITAL_EMPLOYED,\r\n      MARKET_CAP,\r\n      NET_ASSET_VALUE,\r\n      NET_ASSET_VALUE_RATIO,\r\n    ],\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <CategoryPage\r\n        category=\"invest\"\r\n        title=\"Investmentbolag\"\r\n        columnsToShow={this.state.columnsToShow}\r\n        reportType={this.props.reportType}\r\n        setReportType={this.props.setReportType}\r\n        showSingleStock={this.props.showSingleStock}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Investment;\r\n","import React from \"react\";\nimport {\n  PRICE_EARNINGS_RATIO,\n  DIRECT_YIELD,\n  VOLATILITY,\n  PRICE_BOOK_VALUE,\n  EARNINGS_PER_SHARE,\n  REVENUE_PER_EMPLOYEE,\n  REVENUE_PER_SHARE,\n  OPERATING_MARGIN,\n  SOLIDITY,\n  PRICE_SALES_RATIO,\n  MARKET_CAP,\n  RETURN_ON_EQUITY,\n  LAST_PRICE,\n} from \"../constants\";\nimport CategoryPage from \"../components/CategoryPage\";\n\nclass Bank extends React.Component {\n  state = {\n    stocks: [],\n    ownedStocks: [],\n    error: null,\n    columnsToShow: [\n      LAST_PRICE,\n      PRICE_EARNINGS_RATIO,\n      DIRECT_YIELD,\n      VOLATILITY,\n      PRICE_BOOK_VALUE,\n      EARNINGS_PER_SHARE,\n      REVENUE_PER_EMPLOYEE,\n      REVENUE_PER_SHARE,\n      OPERATING_MARGIN,\n      SOLIDITY,\n      PRICE_SALES_RATIO,\n      MARKET_CAP,\n      RETURN_ON_EQUITY,\n    ],\n  };\n\n  render() {\n    return (\n      <CategoryPage\n        category=\"bank\"\n        title=\"Bank\"\n        columnsToShow={this.state.columnsToShow}\n        reportType={this.props.reportType}\n        setReportType={this.props.setReportType}\n        showSingleStock={this.props.showSingleStock}\n      />\n    );\n  }\n}\n\nexport default Bank;\n","import React from \"react\";\r\nimport {\r\n  PRICE_EARNINGS_RATIO,\r\n  DIRECT_YIELD,\r\n  VOLATILITY,\r\n  PRICE_BOOK_VALUE,\r\n  EARNINGS_PER_SHARE,\r\n  REVENUE_PER_EMPLOYEE,\r\n  REVENUE_PER_SHARE,\r\n  OPERATING_MARGIN,\r\n  SOLIDITY,\r\n  PRICE_SALES_RATIO,\r\n  MARKET_CAP,\r\n  RETURN_ON_EQUITY,\r\n  RETURN_ON_CAPITAL_EMPLOYED,\r\n  LAST_PRICE,\r\n} from \"../constants\";\r\nimport CategoryPage from \"../components/CategoryPage\";\r\n\r\nclass Space extends React.Component {\r\n  state = {\r\n    stocks: [],\r\n    ownedStocks: [],\r\n    error: null,\r\n    columnsToShow: [\r\n      LAST_PRICE,\r\n      PRICE_EARNINGS_RATIO,\r\n      DIRECT_YIELD,\r\n      VOLATILITY,\r\n      PRICE_BOOK_VALUE,\r\n      EARNINGS_PER_SHARE,\r\n      REVENUE_PER_EMPLOYEE,\r\n      REVENUE_PER_SHARE,\r\n      OPERATING_MARGIN,\r\n      SOLIDITY,\r\n      PRICE_SALES_RATIO,\r\n      MARKET_CAP,\r\n      RETURN_ON_EQUITY,\r\n      RETURN_ON_CAPITAL_EMPLOYED,\r\n    ],\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <CategoryPage\r\n        category=\"space\"\r\n        title=\"Rymdteknik\"\r\n        columnsToShow={this.state.columnsToShow}\r\n        reportType={this.props.reportType}\r\n        setReportType={this.props.setReportType}\r\n        showSingleStock={this.props.showSingleStock}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Space;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Portfolio from \"../Portfolio/Portfolio\";\nimport SingleStock from \"../SingleStock/SingleStock\";\nimport Forest from \"../Forest/Forest\";\nimport Invest from \"../Invest/Invest\";\nimport Bank from \"../Bank/Bank\";\nimport Space from \"../Space/Space\";\nimport CategoryPage from \"../components/CategoryPage\";\nimport {\n  ANNUAL_REPORT,\n  LAST_PRICE,\n  DIRECT_YIELD,\n  PRICE_EARNINGS_RATIO,\n  PFPMBF_PER_SHARE,\n  PRICE_PFPMBT_RATIO,\n  PRICE_PFPMAT_RATIO,\n  VOLATILITY,\n  PRICE_BOOK_VALUE,\n  EARNINGS_PER_SHARE,\n  REVENUE_PER_EMPLOYEE,\n  REVENUE_PER_SHARE,\n  OPERATING_MARGIN,\n  SOLIDITY,\n  PRICE_SALES_RATIO,\n  MARKET_CAP,\n  RETURN_ON_EQUITY,\n  RETURN_ON_CAPITAL_EMPLOYED,\n  SHOW_PORTFOLIO,\n} from \"../constants\";\n\nconst portfolioPage = \"PORTFOLIO_PAGE\";\nconst bestYieldPage = \"BEST_YIELD_PAGE\";\nconst blueChipPage = \"BLUE_CHIP_PAGE\";\nconst industryPage = \"INDUSTRY_PAGE\";\nconst forestPage = \"FOREST_PAGE\";\nconst investPage = \"INVEST_PAGE\";\nconst realEstatePage = \"REAL_ESTATE_PAGE\";\nconst bankPage = \"BANK_PAGE\";\nconst techPage = \"TECH_PAGE\";\nconst spacePage = \"SPACE_PAGE\";\n\nconst classNames = require(\"classnames\");\n\nclass App extends React.Component {\n  state = {\n    activePage: bestYieldPage,\n    activeStock: null,\n    columnsToShow: [],\n    reportType: ANNUAL_REPORT,\n  };\n\n  renderActivePage() {\n    if (this.state.activeStock) {\n      return (\n        <SingleStock\n          id={this.state.activeStock}\n          columnsToShow={this.state.columnsToShow}\n        />\n      );\n    }\n\n    const passOnProps = {\n      reportType: this.state.reportType,\n      setReportType: this.setReportType.bind(this),\n      showSingleStock: this.showSingleStock.bind(this),\n    };\n\n    switch (this.state.activePage) {\n      case portfolioPage:\n        return <Portfolio showSingleStock={this.showSingleStock.bind(this)} />;\n      case bestYieldPage:\n        return (\n          <CategoryPage\n            category=\"best-yield\"\n            title=\"Intressanta utdelningsaktier\"\n            {...passOnProps}\n          />\n        );\n      case blueChipPage:\n        return (\n          <CategoryPage\n            category=\"blue-chip\"\n            title=\"Intressanta basaktier\"\n            {...passOnProps}\n          />\n        );\n      case industryPage:\n        return (\n          <CategoryPage category=\"industry\" title=\"Verkstad\" {...passOnProps} />\n        );\n      case forestPage:\n        return <Forest {...passOnProps} />;\n      case investPage:\n        return <Invest {...passOnProps} />;\n      case realEstatePage:\n        return (\n          <CategoryPage\n            category=\"realEstate\"\n            title=\"Fastighetsbolag\"\n            {...passOnProps}\n            columnsToShow={[\n              LAST_PRICE,\n              PRICE_EARNINGS_RATIO,\n              DIRECT_YIELD,\n              VOLATILITY,\n              SOLIDITY,\n              MARKET_CAP,\n              PFPMBF_PER_SHARE,\n              PRICE_PFPMBT_RATIO,\n              PRICE_PFPMAT_RATIO,\n            ]}\n          />\n        );\n      case bankPage:\n        return <Bank {...passOnProps} />;\n      case techPage:\n        return (\n          <CategoryPage\n            category=\"tech\"\n            title=\"Teknik\"\n            {...passOnProps}\n            columnsToShow={[\n              LAST_PRICE,\n              PRICE_EARNINGS_RATIO,\n              DIRECT_YIELD,\n              VOLATILITY,\n              PRICE_BOOK_VALUE,\n              EARNINGS_PER_SHARE,\n              REVENUE_PER_EMPLOYEE,\n              REVENUE_PER_SHARE,\n              OPERATING_MARGIN,\n              SOLIDITY,\n              PRICE_SALES_RATIO,\n              MARKET_CAP,\n              RETURN_ON_EQUITY,\n              RETURN_ON_CAPITAL_EMPLOYED,\n            ]}\n          />\n        );\n      case spacePage:\n        return <Space {...passOnProps} />;\n      default:\n        return <div></div>;\n    }\n  }\n\n  renderButton(title, page) {\n    return (\n      <button\n        onClick={() => {\n          this.setState({ activePage: page, activeStock: null });\n        }}\n        className={classNames({\n          active: this.state.activePage === page,\n        })}\n      >\n        {title}\n      </button>\n    );\n  }\n\n  showSingleStock(id, columnsToShow) {\n    this.setState({ activeStock: id, columnsToShow: columnsToShow });\n  }\n\n  setReportType(reportType) {\n    this.setState({ reportType: reportType });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>BisseNisse</h1>\n        {SHOW_PORTFOLIO && this.renderButton(\"Portfolio\", portfolioPage)} \n        {this.renderButton(\"Utdelningsaktier\", bestYieldPage)}\n        {this.renderButton(\"Basaktier\", blueChipPage)}\n        {this.renderButton(\"Verkstad\", industryPage)}\n        {this.renderButton(\"Skog\", forestPage)}\n        {this.renderButton(\"Investment\", investPage)}\n        {this.renderButton(\"Fastigheter\", realEstatePage)}\n        {this.renderButton(\"Bank\", bankPage)}\n        {this.renderButton(\"Teknik\", techPage)}\n        {this.renderButton(\"Rymdteknik\", spacePage)}\n        {this.renderActivePage()}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}